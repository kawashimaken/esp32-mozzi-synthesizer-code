#include "melody.h"

// American Hip-Hop Style 16-pattern melody pattern library
// Simple but addictive loops and grooves
const int hiphop_melo_patterns[NUM_PATTERNS][NUM_MELO_TRACKS][PATTERN_LENGTH] = {
  // Pattern 0: Intro - simple bass line
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 0, 0, 36, 0, 36, 0, 0, 0 }, // Bass 1 - deep bass
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },     // Bass 2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },     // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }      // Lead
  },
  // Pattern 1: Intro build - harmony appears
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 36, 0, 36, 0, 38, 0 }, // Bass 1
    { 0, 0, 0, 0, 48, 0, 0, 0, 0, 0, 0, 0, 48, 0, 0, 0 },    // Bass 2 - octave
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },      // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 72 }      // Lead - hint
  },
  // Pattern 2: Main beat 1 - classic hip-hop loop
  {
    { 36, 0, 38, 0, 36, 0, 0, 0, 36, 0, 38, 0, 36, 0, 0, 0 }, // Bass 1 - bouncing
    { 0, 0, 0, 0, 48, 0, 0, 0, 0, 0, 0, 0, 48, 0, 0, 0 },    // Bass 2
    { 60, 0, 0, 0, 0, 0, 0, 0, 60, 0, 0, 0, 0, 0, 0, 0 },    // Chord - sparse
    { 0, 0, 0, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 72, 0 }     // Lead - minimal hook
  },
  // Pattern 3: Main beat 2 - more complex
  {
    { 36, 0, 38, 41, 36, 0, 0, 38, 36, 0, 38, 41, 36, 0, 0, 0 }, // Bass 1 - walking
    { 0, 0, 0, 0, 48, 0, 0, 0, 0, 0, 0, 0, 48, 0, 50, 0 },      // Bass 2 - variation
    { 60, 0, 0, 0, 64, 0, 0, 0, 60, 0, 0, 0, 67, 0, 0, 0 },     // Chord - minor progression
    { 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 72, 0, 0, 0, 74, 0 }       // Lead - call & response
  },
  // Pattern 4: Verse 1 - rap groove
  {
    { 36, 0, 38, 0, 36, 41, 0, 0, 36, 0, 38, 0, 36, 0, 41, 0 }, // Bass 1 - syncopated
    { 48, 0, 0, 0, 48, 0, 0, 0, 48, 0, 0, 0, 48, 0, 0, 0 },    // Bass 2 - steady
    { 60, 0, 0, 64, 0, 0, 67, 0, 60, 0, 0, 64, 0, 0, 0, 0 },   // Chord - sparse stabs
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }         // Lead - space for rap
  },
  // Pattern 5: Verse 2 - groove enhancement
  {
    { 36, 38, 0, 41, 36, 0, 38, 0, 36, 38, 0, 41, 36, 0, 0, 0 }, // Bass 1 - more active
    { 0, 0, 48, 0, 0, 48, 0, 48, 0, 0, 48, 0, 0, 48, 0, 0 },    // Bass 2 - off-beat
    { 60, 0, 64, 0, 67, 0, 0, 0, 60, 0, 64, 0, 67, 0, 69, 0 },  // Chord - progression
    { 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0, 72, 0, 0, 0, 74 }       // Lead - minimal
  },
  // Pattern 6: Hook section 1 - catchy loop
  {
    { 36, 0, 36, 38, 36, 0, 41, 0, 36, 0, 36, 38, 36, 0, 0, 0 }, // Bass 1 - memorable
    { 48, 0, 0, 0, 50, 0, 0, 0, 48, 0, 0, 0, 53, 0, 0, 0 },     // Bass 2 - harmony
    { 60, 64, 67, 0, 69, 0, 0, 67, 60, 64, 67, 0, 72, 0, 0, 0 }, // Chord - melodic
    { 84, 0, 0, 0, 0, 0, 0, 0, 84, 0, 0, 0, 0, 0, 0, 86 }       // Lead - hook melody
  },
  // Pattern 7: Hook section 2 - more powerful
  {
    { 36, 38, 36, 41, 36, 38, 41, 38, 36, 38, 36, 41, 36, 38, 0, 0 }, // Bass 1 - driving
    { 48, 0, 50, 0, 53, 0, 50, 0, 48, 0, 50, 0, 55, 0, 0, 0 },       // Bass 2 - active
    { 60, 0, 64, 67, 69, 0, 67, 64, 60, 0, 64, 67, 72, 0, 69, 0 },    // Chord - flowing
    { 84, 0, 86, 0, 84, 0, 82, 0, 84, 0, 86, 0, 89, 0, 86, 0 }        // Lead - catchy
  },
  // Pattern 8: Breakdown 1 - bass emphasis
  {
    { 36, 38, 41, 38, 36, 41, 43, 41, 36, 38, 41, 38, 36, 41, 38, 36 }, // Bass 1 - featured
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },               // Bass 2 - drop out
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },               // Chord - drop out
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }                // Lead - drop out
  },
  // Pattern 9: Breakdown 2 - build back
  {
    { 36, 0, 38, 0, 36, 0, 41, 0, 36, 38, 41, 43, 45, 46, 48, 50 }, // Bass 1 - building
    { 0, 0, 0, 0, 48, 0, 0, 0, 0, 0, 0, 0, 50, 53, 55, 57 },       // Bass 2 - joining
    { 0, 0, 0, 0, 60, 0, 0, 0, 64, 67, 69, 72, 74, 76, 77, 79 },   // Chord - ascending
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 84, 86, 89, 91 }         // Lead - building
  },
  // Pattern 10: Chorus 1 - full power
  {
    { 36, 38, 41, 38, 36, 41, 38, 36, 36, 38, 41, 38, 36, 41, 38, 43 }, // Bass 1 - powerful
    { 48, 0, 50, 0, 53, 0, 55, 0, 48, 0, 50, 0, 57, 0, 55, 0 },        // Bass 2 - harmony
    { 60, 64, 67, 69, 72, 69, 67, 64, 60, 64, 67, 69, 74, 72, 69, 67 }, // Chord - full
    { 84, 0, 86, 0, 89, 0, 91, 0, 84, 0, 86, 0, 94, 0, 91, 0 }         // Lead - soaring
  },
  // Pattern 11: Chorus 2 - variation
  {
    { 36, 41, 36, 43, 36, 41, 36, 38, 36, 41, 36, 43, 36, 41, 36, 34 }, // Bass 1 - varied
    { 48, 53, 48, 55, 48, 53, 48, 50, 48, 53, 48, 55, 48, 53, 48, 46 }, // Bass 2 - parallel
    { 60, 0, 64, 0, 67, 0, 69, 0, 72, 0, 69, 0, 67, 0, 64, 0 },        // Chord - wave
    { 84, 86, 84, 89, 84, 86, 84, 82, 84, 86, 84, 89, 84, 86, 84, 81 }  // Lead - hypnotic
  },
  // Pattern 12: Bridge - experimental
  {
    { 36, 0, 0, 43, 0, 41, 0, 0, 36, 0, 0, 43, 0, 38, 0, 0 },    // Bass 1 - spacey
    { 0, 0, 48, 0, 55, 0, 0, 0, 0, 0, 48, 0, 50, 0, 0, 0 },      // Bass 2 - sparse
    { 0, 67, 0, 0, 0, 0, 72, 0, 0, 69, 0, 0, 0, 0, 74, 0 },      // Chord - floating
    { 91, 0, 0, 0, 0, 0, 0, 0, 89, 0, 0, 0, 0, 0, 0, 0 }         // Lead - distant
  },
  // Pattern 13: Final section 1 - powerful
  {
    { 36, 38, 41, 43, 36, 38, 41, 43, 36, 38, 41, 43, 36, 38, 41, 43 }, // Bass 1 - relentless
    { 48, 50, 53, 55, 48, 50, 53, 55, 48, 50, 53, 55, 48, 50, 53, 55 }, // Bass 2 - climbing
    { 60, 64, 67, 69, 72, 69, 67, 74, 72, 69, 67, 76, 74, 72, 69, 77 }, // Chord - intense
    { 84, 86, 89, 91, 94, 91, 89, 96, 94, 91, 89, 98, 96, 94, 91, 100 } // Lead - climactic
  },
  // Pattern 14: Outro 1 - fade start
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0, 0, 0, 0, 0 }, // Bass 1 - fading
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },   // Bass 2
    { 60, 0, 0, 0, 64, 0, 0, 0, 60, 0, 0, 0, 0, 0, 0, 0 }, // Chord - sparse
    { 84, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }    // Lead - final echo
  },
  // Pattern 15: Outro 2 - complete fade
  {
    { 36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass 1 - last note
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },  // Bass 2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },  // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }   // Lead
  }
};

// Hip-Hop Style melody trigger patterns
const boolean hiphop_melo_trig_patterns[NUM_PATTERNS][NUM_MELO_TRACKS][PATTERN_LENGTH] = {
  // Pattern 0: Intro - bass only
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0 }, // Bass 1
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass 2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  },
  // Pattern 1: Intro build
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass 1
    { 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 }, // Bass 2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 }  // Lead
  },
  // Pattern 2: Main beat 1
  {
    { 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0 }, // Bass 1
    { 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 }, // Bass 2
    { 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0 }  // Lead
  },
  // Pattern 3: Main beat 2
  {
    { 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 1, 0, 0, 0 }, // Bass 1
    { 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0 }, // Bass 2
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Chord
    { 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0 }  // Lead
  },
  // Pattern 4: Verse 1 - for rap
  {
    { 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass 1
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass 2
    { 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead - silent for rap
  },
  // Pattern 5: Verse 2
  {
    { 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 0 }, // Bass 1
    { 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0 }, // Bass 2
    { 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Chord
    { 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1 }  // Lead
  },
  // Pattern 6: Hook section 1
  {
    { 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0 }, // Bass 1
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass 2
    { 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0 }, // Chord
    { 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1 }  // Lead
  },
  // Pattern 7: Hook section 2
  {
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0 }, // Bass 1
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0 }, // Bass 2
    { 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0 }, // Chord
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }  // Lead
  },
  // Pattern 8: Breakdown 1 - bass emphasis
  {
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass 1 - featured
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass 2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  },
  // Pattern 9: Breakdown 2
  {
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass 1 - building
    { 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1 }, // Bass 2 - joining
    { 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1 }, // Chord - ascending
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1 }  // Lead - building
  },
  // Pattern 10: Chorus 1
  {
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass 1 - powerful
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass 2
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Chord - full
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }  // Lead
  },
  // Pattern 11: Chorus 2
  {
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass 1
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass 2
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Chord
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }  // Lead
  },
  // Pattern 12: Bridge
  {
    { 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0 }, // Bass 1 - spacey
    { 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0 }, // Bass 2
    { 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0 }, // Chord
    { 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  },
  // Pattern 13: Final section 1
  {
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass 1 - relentless
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass 2
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Chord
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }  // Lead
  },
  // Pattern 14: Outro 1
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 }, // Bass 1
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass 2
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  },
  // Pattern 15: Outro 2 - complete fade
  {
    { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass 1
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass 2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  }
};