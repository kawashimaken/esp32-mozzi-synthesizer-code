#include "melody.h"

// Eurobeat/Dance Style 16-pattern melody pattern library  
// High energy melodies with ascending feel and basslines
const int eurobeat_melo_patterns[NUM_PATTERNS][NUM_MELO_TRACKS][PATTERN_LENGTH] = {
  // Pattern 0: Intro - Simple bass
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0 }, // Bass1 - four on floor
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },     // Bass2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },     // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }      // Lead
  },
  // Pattern 1: Buildup - Add harmony
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0 }, // Bass1
    { 0, 0, 48, 0, 0, 0, 48, 0, 0, 0, 48, 0, 0, 0, 48, 0 }, // Bass2 - octave
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 72, 74, 76, 77 }, // Chord - build
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 84 }    // Lead - hint
  },
  // Pattern 2: Main beat1 - Classic eurobeat
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0 }, // Bass1 - solid
    { 48, 0, 48, 0, 48, 0, 48, 0, 48, 0, 48, 0, 48, 0, 48, 0 }, // Bass2 - driving
    { 72, 0, 0, 0, 76, 0, 0, 0, 72, 0, 0, 0, 79, 0, 0, 0 }, // Chord - progression
    { 0, 0, 84, 0, 0, 0, 86, 0, 0, 0, 84, 0, 0, 0, 88, 0 }  // Lead - melody
  },
  // Pattern 3: Main beat2 - More complex
  {
    { 36, 0, 38, 0, 36, 0, 0, 0, 36, 0, 38, 0, 36, 0, 41, 0 }, // Bass1 - walking
    { 48, 0, 48, 50, 48, 0, 48, 0, 48, 0, 48, 50, 48, 0, 53, 0 }, // Bass2 - harmony
    { 72, 0, 76, 0, 79, 0, 76, 0, 72, 0, 76, 0, 81, 0, 79, 0 }, // Chord - flowing
    { 84, 0, 86, 88, 84, 0, 89, 0, 84, 0, 86, 88, 91, 0, 89, 0 } // Lead - eurobeat melody
  },
  // Pattern 4: Verse1 - Slightly restrained
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0 }, // Bass1
    { 48, 0, 0, 0, 48, 0, 0, 0, 48, 0, 0, 0, 48, 0, 0, 0 }, // Bass2 - simple
    { 72, 0, 0, 0, 76, 0, 0, 0, 72, 0, 0, 0, 79, 0, 0, 0 }, // Chord - sparse
    { 0, 0, 0, 0, 0, 0, 84, 0, 0, 0, 0, 0, 0, 0, 86, 0 }    // Lead - minimal
  },
  // Pattern 5: Verse2 - Rising energy
  {
    { 36, 0, 38, 0, 36, 0, 0, 0, 36, 0, 38, 0, 36, 0, 0, 0 }, // Bass1
    { 48, 0, 48, 50, 48, 0, 48, 0, 48, 0, 48, 50, 48, 0, 48, 0 }, // Bass2
    { 72, 76, 0, 0, 79, 0, 76, 0, 72, 76, 0, 0, 81, 0, 79, 0 }, // Chord - more active
    { 0, 0, 84, 0, 0, 86, 0, 0, 0, 0, 84, 0, 0, 88, 0, 0 }      // Lead - building
  },
  // Pattern 6: Pre-chorus - Buildup
  {
    { 36, 38, 0, 0, 36, 38, 0, 0, 36, 38, 41, 0, 36, 38, 41, 43 }, // Bass1 - ascending
    { 48, 0, 50, 0, 48, 0, 50, 0, 48, 50, 53, 0, 48, 50, 53, 55 }, // Bass2 - climbing
    { 72, 76, 79, 0, 81, 76, 79, 0, 84, 79, 81, 0, 86, 81, 84, 0 }, // Chord - building
    { 84, 0, 86, 88, 89, 0, 91, 0, 93, 0, 94, 96, 98, 100, 101, 103 } // Lead - soaring
  },
  // Pattern 7: Drop preparation - Suspense
  {
    { 36, 36, 0, 0, 36, 36, 0, 0, 36, 36, 0, 0, 36, 38, 41, 43 }, // Bass1 - tension
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },          // Bass2 - drop out
    { 0, 0, 72, 76, 0, 0, 79, 81, 0, 0, 84, 86, 0, 0, 0, 0 },    // Chord - stabs
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 103, 103, 103, 0 }     // Lead - tension
  },
  // Pattern 8: Chorus1 - Full energy
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0 }, // Bass1 - solid
    { 48, 0, 50, 0, 48, 0, 53, 0, 48, 0, 50, 0, 48, 0, 55, 0 }, // Bass2 - eurobeat bass
    { 72, 76, 79, 81, 84, 81, 79, 76, 72, 76, 79, 81, 86, 84, 81, 79 }, // Chord - arpeggios
    { 96, 0, 94, 0, 91, 0, 89, 0, 91, 0, 94, 0, 96, 0, 98, 0 } // Lead - soaring melody
  },
  // Pattern 9: Chorus2 - Variation
  {
    { 36, 0, 38, 0, 36, 0, 41, 0, 36, 0, 38, 0, 36, 0, 43, 0 }, // Bass1 - variation
    { 48, 50, 48, 53, 48, 50, 55, 53, 48, 50, 48, 53, 48, 50, 57, 55 }, // Bass2 - complex
    { 72, 0, 76, 79, 81, 0, 84, 79, 72, 0, 76, 79, 86, 0, 84, 81 }, // Chord - pattern
    { 96, 98, 96, 94, 91, 93, 91, 89, 91, 93, 94, 96, 98, 100, 98, 96 } // Lead - elaborate
  },
  // Pattern 10: Break1 - Rhythm change
  {
    { 36, 0, 36, 0, 36, 0, 36, 0, 36, 0, 36, 0, 36, 0, 36, 0 }, // Bass1 - 8th notes
    { 0, 48, 0, 48, 0, 48, 0, 48, 0, 48, 0, 48, 0, 48, 0, 48 }, // Bass2 - off-beat
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },        // Chord - drop out
    { 84, 0, 86, 0, 88, 0, 89, 0, 91, 0, 89, 0, 88, 0, 86, 0 }  // Lead - featured
  },
  // Pattern 11: Break2 - Build back
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 38, 41, 43, 45, 46, 48, 50 }, // Bass1 - building
    { 48, 0, 0, 0, 48, 0, 0, 0, 48, 50, 53, 55, 57, 58, 60, 62 }, // Bass2 - ascending
    { 0, 0, 0, 0, 72, 0, 0, 0, 76, 79, 81, 84, 86, 89, 91, 93 }, // Chord - building
    { 84, 0, 0, 0, 86, 0, 0, 0, 88, 91, 94, 96, 98, 100, 103, 105 } // Lead - soaring
  },
  // Pattern 12: Final chorus1 - Maximum energy
  {
    { 36, 38, 36, 41, 36, 38, 36, 43, 36, 38, 36, 41, 36, 38, 36, 45 }, // Bass1 - driving
    { 48, 50, 53, 55, 48, 50, 53, 57, 48, 50, 53, 55, 48, 50, 53, 60 }, // Bass2 - climbing
    { 72, 76, 79, 81, 84, 86, 89, 91, 72, 76, 79, 81, 93, 91, 89, 86 }, // Chord - full power
    { 96, 98, 100, 103, 105, 103, 100, 108, 105, 103, 100, 110, 108, 105, 103, 112 } // Lead - climactic
  },
  // Pattern 13: Final chorus2 - Climax
  {
    { 36, 38, 41, 43, 36, 38, 41, 45, 36, 38, 41, 43, 36, 38, 41, 48 }, // Bass1 - relentless
    { 48, 50, 53, 55, 57, 60, 62, 64, 48, 50, 53, 55, 57, 60, 62, 67 }, // Bass2 - intense
    { 72, 76, 79, 81, 84, 86, 89, 91, 93, 91, 89, 96, 93, 91, 89, 98 }, // Chord - maximum
    { 96, 98, 100, 103, 105, 108, 110, 112, 115, 112, 110, 117, 115, 112, 110, 119 } // Lead - peak
  },
  // Pattern 14: Outro1 - Fade start
  {
    { 36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, 0, 0, 0, 0, 0 }, // Bass1 - fading
    { 48, 0, 0, 0, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },  // Bass2 - fading
    { 72, 0, 0, 0, 76, 0, 0, 0, 72, 0, 0, 0, 0, 0, 0, 0 }, // Chord - sparse
    { 96, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }    // Lead - final echo
  },
  // Pattern 15: Outro2 - Complete fade
  {
    { 36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass1 - last note
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },  // Bass2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 },  // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }   // Lead
  }
};

// Eurobeat Style melody trigger patterns
const boolean eurobeat_melo_trig_patterns[NUM_PATTERNS][NUM_MELO_TRACKS][PATTERN_LENGTH] = {
  // Pattern 0: Intro - Bass only
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass1
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  },
  // Pattern 1: Buildup
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass1
    { 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0 }, // Bass2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1 }, // Chord - building
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 }  // Lead
  },
  // Pattern 2: Main beat1
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass1
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass2 - 8th notes
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Chord
    { 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0 }  // Lead
  },
  // Pattern 3: Main beat2
  {
    { 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass1
    { 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0 }, // Bass2
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Chord
    { 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0 }  // Lead
  },
  // Pattern 4: Verse1 - Restrained
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass1
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass2
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0 }  // Lead - minimal
  },
  // Pattern 5: Verse2
  {
    { 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0 }, // Bass1
    { 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0 }, // Bass2
    { 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 0 }, // Chord
    { 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0 }  // Lead
  },
  // Pattern 6: Pre-chorus - Building
  {
    { 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1 }, // Bass1 - building
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1 }, // Bass2 - building
    { 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0 }, // Chord - building
    { 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1 }  // Lead - soaring
  },
  // Pattern 7: Drop preparation
  {
    { 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1 }, // Bass1 - tension
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass2 - drop
    { 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 0, 0, 0, 0 }, // Chord - stabs
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0 }  // Lead - tension
  },
  // Pattern 8: Chorus1 - Full power
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0 }, // Bass1
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass2
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Chord - full
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }  // Lead
  },
  // Pattern 9: Chorus2
  {
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass1
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass2
    { 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1 }, // Chord
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }  // Lead
  },
  // Pattern 10: Break1
  {
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }, // Bass1 - 8th notes
    { 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1 }, // Bass2 - off-beat
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Chord - drop out
    { 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0 }  // Lead - featured
  },
  // Pattern 11: Break2 - Build back
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass1 - building
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass2 - building
    { 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1 }, // Chord - building
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1 }  // Lead - soaring
  },
  // Pattern 12: Final chorus1
  {
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass1 - driving
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass2 - full power
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Chord - maximum
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }  // Lead - climactic
  },
  // Pattern 13: Final chorus2 - Climax
  {
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass1 - relentless
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Bass2 - intense
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }, // Chord - maximum
    { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 }  // Lead - peak energy
  },
  // Pattern 14: Outro1
  {
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 }, // Bass1
    { 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass2
    { 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  },
  // Pattern 15: Outro2 - Complete fade
  {
    { 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass1 - final note
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Bass2
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }, // Chord
    { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }  // Lead
  }
};